# üïê –†–∞–±–æ—Ç–∞ —Å –º–æ—Å–∫–æ–≤—Å–∫–∏–º –≤—Ä–µ–º–µ–Ω–µ–º (UTC+3)

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–í—Å—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç **–∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –º–æ—Å–∫–æ–≤—Å–∫–æ–º —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ (UTC+3)**.

---

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –≤—Ä–µ–º—è?

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç: 10:00
         ‚Üì
–°–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç –∫–∞–∫: 10:00 –ú–°–ö (UTC+3)
         ‚Üì
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î –∫–∞–∫: 07:00 UTC
         ‚Üì
–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∫–∞–∫: 10:00 –ú–°–ö
```

---

## üîç –ì–¥–µ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ?

### 1. –§—Ä–æ–Ω—Ç–µ–Ω–¥: `src/components/Booking.jsx`

```javascript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª: date='2025-11-15', time='10:00'

// –°–æ–∑–¥–∞–µ–º –¥–∞—Ç—É —Å —è–≤–Ω—ã–º —É–∫–∞–∑–∞–Ω–∏–µ–º –º–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞
const moscowTimeString = `2025-11-15T10:00:00+03:00`;
const startDate = new Date(moscowTimeString);

// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ UTC
startUtc: startDate.toISOString() // "2025-11-15T07:00:00.000Z"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 10:00 –ú–°–ö ‚Üí 07:00 UTC

---

### 2. –ë—ç–∫–µ–Ω–¥: `backend/src/routes/bookings.js`

```javascript
// –ü–æ–ª—É—á–∞–µ–º UTC –≤—Ä–µ–º—è –æ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
const startUtc = "2025-11-15T07:00:00.000Z";

// –ü–∞—Ä—Å–∏–º –∫–∞–∫ UTC
const startTime = DateTime.fromISO(startUtc, { zone: 'utc' });

// –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ –º–æ—Å–∫–æ–≤—Å–∫–æ–µ –¥–ª—è –ª–æ–≥–æ–≤
const startMoscow = startTime.setZone('Europe/Moscow');
// –†–µ–∑—É–ª—å—Ç–∞—Ç: 2025-11-15 10:00 –ú–°–ö

// –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ë–î –≤ UTC
await prisma.booking.create({
  data: {
    startUtc: startTime.toJSDate(), // 07:00 UTC
  }
});
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** UTC ‚Üí –ë–î, –ú–°–ö ‚Üí –ª–æ–≥–∏

---

### 3. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: `src/components/Preparation.jsx`

```javascript
// –ü–æ–ª—É—á–∞–µ–º –∏–∑ –ë–î: "2025-11-15T07:00:00.000Z" (UTC)
const formatDateTime = (dateString) => {
  const date = new Date(dateString);
  
  return date.toLocaleString('ru-RU', {
    timeZone: 'Europe/Moscow', // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –ú–°–ö
  });
  // –†–µ–∑—É–ª—å—Ç–∞—Ç: "15 –Ω–æ—è–±—Ä—è 2025 –≥., 10:00"
};
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 07:00 UTC ‚Üí 10:00 –ú–°–ö

---

### 4. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: `backend/src/routes/availability.js`

```javascript
// –†–∞–±–æ—á–∏–µ —á–∞—Å—ã –≤ –º–æ—Å–∫–æ–≤—Å–∫–æ–º –≤—Ä–µ–º–µ–Ω–∏
const workStart = dateMoscow.set({ hour: 10 }); // 10:00 –ú–°–ö
const workEnd = dateMoscow.set({ hour: 18 });   // 18:00 –ú–°–ö

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤ (—á–∞—Å–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã)
// 10:00-11:00, 11:00-12:00, ..., 17:00-18:00 –ú–°–ö

// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ UTC
slots.push({
  startUtc: "2025-11-15T07:00:00.000Z", // 10:00 –ú–°–ö
  endUtc: "2025-11-15T08:00:00.000Z"    // 11:00 –ú–°–ö
});
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ª–æ—Ç—ã –≤ –ú–°–ö ‚Üí API –≤ UTC ‚Üí –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –ú–°–ö

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

### –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

```javascript
// –¢–µ—Å—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
const moscowTime = '2025-11-15T10:00:00+03:00';
const date = new Date(moscowTime);

console.log('UTC (–≤ –ë–î):', date.toISOString());
// "2025-11-15T07:00:00.000Z"

console.log('–ú–°–ö (–ø–æ–∫–∞–∑—ã–≤–∞–µ–º):', date.toLocaleString('ru-RU', { 
  timeZone: 'Europe/Moscow' 
}));
// "15.11.2025, 10:00"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API

```bash
# –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ—Ç—ã –¥–ª—è –¥–∞—Ç—ã
curl "http://localhost:3001/api/availability?date=2025-11-15"

# –û—Ç–≤–µ—Ç (–≤ UTC):
[
  {
    "startUtc": "2025-11-15T07:00:00.000Z",  # 10:00 –ú–°–ö
    "endUtc": "2025-11-15T08:00:00.000Z"     # 11:00 –ú–°–ö
  }
]
```

---

## üìä –¢–∞–±–ª–∏—Ü–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

| –ú–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è (–ú–°–ö) | UTC –≤—Ä–µ–º—è (–ë–î) | –†–∞–∑–Ω–∏—Ü–∞ |
|----------------------|----------------|---------|
| 10:00 –ú–°–ö            | 07:00 UTC      | -3 —á–∞—Å–∞ |
| 11:00 –ú–°–ö            | 08:00 UTC      | -3 —á–∞—Å–∞ |
| 12:00 –ú–°–ö            | 09:00 UTC      | -3 —á–∞—Å–∞ |
| 18:00 –ú–°–ö            | 15:00 UTC      | -3 —á–∞—Å–∞ |

---

## ‚ö° –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- ‚úÖ –í—ã–±–∏—Ä–∞–µ—Ç–µ –≤—Ä–µ–º—è: **10:00** ‚Üí —ç—Ç–æ –º–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è
- ‚úÖ –í–∏–¥–∏—Ç–µ –≤—Ä–µ–º—è: **10:00** ‚Üí —ç—Ç–æ –º–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è
- ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: **10:00** ‚Üí —ç—Ç–æ –º–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:
- ‚úÖ –í –ë–î —Ö—Ä–∞–Ω–∏—Ç—Å—è: **07:00 UTC** (—Å—Ç–∞–Ω–¥–∞—Ä—Ç PostgreSQL)
- ‚úÖ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç: **07:00 UTC** (JSON)
- ‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç: **10:00 –ú–°–ö** (–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)

---

## üîó –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. `backend/TIMEZONE_GUIDE.md` –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞.

---

## üéØ –ò—Ç–æ–≥

**–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –∑–∞–ø–∏—Å–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞—é—Ç –≤ UTC+3 (–º–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è):**

1. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–≤–≤–æ–¥–∏—Ç** –º–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è
2. ‚úÖ –°–∏—Å—Ç–µ–º–∞ **—Ö—Ä–∞–Ω–∏—Ç** UTC (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)
3. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–≤–∏–¥–∏—Ç** –º–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è
4. ‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –º–æ—Å–∫–æ–≤—Å–∫–æ–º —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –º–æ—Å–∫–æ–≤—Å–∫–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ UTC –¥–ª—è —Å–∏—Å—Ç–µ–º—ã.

